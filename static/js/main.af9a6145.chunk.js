(this.webpackJsonpzradio=this.webpackJsonpzradio||[]).push([[0],{19:function(t,n,e){},23:function(t,n,e){},24:function(t,n,e){"use strict";e.r(n);var i=e(1),a=e.n(i),o=e(12),r=e.n(o),c=(e(19),e(2)),s=e(6),u=e(26),d=e(27),m=e(28),l=e.p+"static/media/hot_fm.572a6cfd.png",p=e.p+"static/media/iwave_fm.73d51dfc.png",f=e.p+"static/media/radio_phoenix.7376b7f6.png",h=e.p+"static/media/sun_fm.c74fe35a.png",v=e.p+"static/media/breeze_fm.2baf4b59.png",b=e.p+"static/media/radio_chikuni.40a8f6a1.png",j=e.p+"static/media/rock_fm.75c73c07.png",g=e.p+"static/media/christian_voice.c4d118c8.png",w=e.p+"static/media/metro_fm.e5f0531d.png",O=e.p+"static/media/zed_stage.4dab9508.png",y=e.p+"static/media/5fm_radio.89d530c1.png",x=(e.p,[{name:"IWave FM Radio",urls:["https://s47.myradiostream.com/:9934/listen.mp3"],icon:p,id:0,fiveFmIcon:y},{name:"HOT FM",urls:["http://s2.yesstreaming.net:7091/stream"],icon:l,id:1},{name:"Radio Phoenix 89.5",urls:["https://23553.live.streamtheworld.com/RADIO_PHOENIXAAC_SC"],icon:f,id:2},{name:"Sun FM",urls:["http://11233.cloudrad.io:9102/live"],icon:h,id:3},{name:"Breeze FM Chipata",urls:["https://s47.myradiostream.com/9934/listen.mp3"],icon:v,id:4},{name:"Radio Chikuni",urls:["http://centauri.shoutca.st:8102/stream"],icon:b,id:5},{name:"965 Rock FM",urls:["http://99.198.118.250:8238/stream"],icon:j,id:6},{name:"Radio Christian Voice",urls:["http://zas2.ndx.co.za/proxy/cvglobal?mp=/stream"],icon:g,id:7},{name:"Metro FM",urls:["https://s24.myradiostream.com/:15422/listen.mp3"],icon:w,id:8},{name:"Zed Stage Radio",urls:["https://node-03.zeno.fm/49836bqkpd0uv"],icon:O,id:9},{name:"5fm Radio",urls:["http://ca9.rcast.net:8014/;stream.mp3"],icon:y,id:10},{name:"Komboni Radio",urls:["http://88.111.246.140:8005/zradio"],icon:e.p+"static/media/komboni_radio.3dde8ba1.png",id:11}]),E=e(8),S=e.n(E),k=e(11),M=e(14),L="MUTED",P="UMUTED",R="PLAYING",A="PAUSED",C="STOPPED",F="LOAD_ERROR",N="STATION_CHANGED";function z(t){var n="LOAD ERROR",e=null,i=null,a=!1,o=0,r=function(t,n){try{return t()}catch(e){console.error(n+": "+e)}return!1},c=function(){return r((function(){return i&&i.playing()}),"Error in isPlaying()")};this.isPlaying=c;this.isMuted=function(){return r((function(){return i&&i.mute()}),"Error in isMuted()")};this.mute=function(){return r((function(){if(i)return i.mute(!0),!0}),"Error in mute()")};this.unMute=function(){return r((function(){if(i)return i.mute(!1),!0}),"Error in unMute()")};this.getCurrentStation=function(){return t[o]};var u=function(t){r((function(){t.on("pause",(function(){window.dispatchEvent(new Event(A)),navigator.mediaSession.playbackState="paused"})),t.on("stop",(function(){window.dispatchEvent(new Event(C)),navigator.mediaSession.playbackState="paused"})),t.on("play",(function(){window.dispatchEvent(new Event(R)),navigator.mediaSession.playbackState="playing"})),t.on("mute",(function(){i.mute()?window.dispatchEvent(new Event(L)):window.dispatchEvent(new Event(P)),navigator.mediaSession.playbackState=i.mute()?"paused":"playing"})),t.on("loaderror",(function(){window.dispatchEvent(new Event(F))})),t.on("load",(function(){console.debug("cwm load event!")})),t.on("rate",(function(){console.debug("cwm unlock event!")}))}),"Error in setupSoundEventListeners()")},d=function(){var t=Object(k.a)(S.a.mark((function t(e){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(e),t.abrupt("return",r((function(){return e.play(),new Promise((function(t,i){e.once("play",(function(){navigator.mediaSession.setPositionState({duration:999999,playbackRate:1,position:80}),e.mute(!1),navigator.mediaSession.playbackState="playing",t(!0)})),e.once("loaderror",(function(t,e){i(n,e)}))}))}),"Error in playSound()"));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),m=function(){r((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in play()")};this.play=m;this.pause=function(){r((function(){i&&i.mute(!0)}),"Error in pause()")};this.stop=function(){r((function(){i&&i.stop()}),"Error in stop()")};var l=function(){r((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in handlePauseAction()")};this.handlePauseAction=l;var p=function(){m()};this.handlePlayAction=p;var f=function(){var n;n=o>=t.length-1?0:o+1,b(t[n]),window.dispatchEvent(new Event(N))};this.handleNextAction=f;var h=function(){var n;n=o<=0?t.length-1:o-1,b(t[n]),window.dispatchEvent(new Event(N))};this.handlePrevAction=h;var v=function(){if(!a){for(var t=0,n=[["play",function(){return p()}],["pause",function(){return l()}],["previoustrack",function(){return h()}],["nexttrack",function(){return f()}],["stop",function(){return console.debug("cwm stop")}]];t<n.length;t++){var e=Object(s.a)(n[t],2),i=e[0],o=e[1];try{navigator.mediaSession.setActionHandler(i,o)}catch(r){console.log('The media session action "'.concat(i,'" is not supported yet.'))}}a=!0}},b=function(){var n=Object(k.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r((function(){return i&&i.unload(),e!==a.id?(e=a.id,o=t.findIndex((function(t){return t.id===a.id})),document.title=document.title+" "+a.name,navigator.mediaSession.metadata=new window.MediaMetadata({title:a.name,album:"ZRadio 2",artwork:[{src:a.icon,sizes:"384x384",type:"image/png"}]}),i=new M.Howl({src:[a.urls],html5:!0,preload:!1}),v(),d(i)):c()?void 0:d(i)}),"Error in playStation()"));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();this.playStation=b}var _=e(7),I=e.p+"static/media/5-seconds-of-silence.be2bc6f4.mp3",D=e(0),T=function(){var t=Object(i.useState)(null),n=Object(s.a)(t,2),e=n[0],a=n[1],o=Object(i.useState)(!1),r=Object(s.a)(o,2),l=r[0],p=r[1],f=Object(i.useState)(!1),h=Object(s.a)(f,2),v=h[0],b=h[1],j=Object(i.useState)(null),g=Object(s.a)(j,2),w=g[0],O=g[1],y=Object(i.useState)(!1),E=Object(s.a)(y,2),S=E[0],k=E[1],M=Object(i.useCallback)((function(){b(!1),p(!1),O(Object(c.a)(Object(c.a)({},w),{},{error:!0}))}),[w]),A=Object(i.useCallback)((function(){p(!1),b(!0),O(e.getCurrentStation())}),[e]);Object(i.useLayoutEffect)((function(){var t=document.querySelector(".current-station");t&&t.scrollIntoView({behavior:"smooth"})}),[w]),Object(i.useEffect)((function(){O(x[0]),a(new z(x));var t=function(){p(!1)},n=function(){b(!1),p(!0)},e=function(){b(!1),p(!0)};return window.addEventListener(L,t),window.addEventListener(P,n),window.addEventListener(R,e),function(){window.removeEventListener(L,t),window.removeEventListener(P,n),window.removeEventListener(R,e)}}),[]),Object(i.useEffect)((function(){return window.addEventListener(F,M),function(){return window.removeEventListener(F,M)}}),[M]),Object(i.useEffect)((function(){return window.addEventListener(N,A),function(){return window.removeEventListener(N,A)}}),[A]);var C=function(){!S&&w&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:w.name,album:"ZRadio",artwork:[{src:"https://dummyimage.com/96x96",sizes:"96x96",type:"image/png"},{src:"https://dummyimage.com/128x128",sizes:"128x128",type:"image/png"},{src:"https://dummyimage.com/192x192",sizes:"192x192",type:"image/png"},{src:"https://dummyimage.com/256x256",sizes:"256x256",type:"image/png"},{src:"https://dummyimage.com/384x384",sizes:"384x384",type:"image/png"},{src:"https://dummyimage.com/512x512",sizes:"512x512",type:"image/png"}]}),document.getElementById("silentSound").play(),document.getElementById("silentSound").pause(),navigator.mediaSession.playbackState="paused",k(!0))},T=function(t){var n="shadow ";return w&&t.id===w.id&&(n+="current-station ",w.error&&(n+="station-error")),n};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"media-player-container",children:[Object(D.jsxs)("div",{className:"media-header",children:[v&&Object(D.jsxs)(D.Fragment,{children:["  ",Object(D.jsx)(u.a,{animation:"border",role:"status"}),"\xa0 "]}),Object(D.jsx)("span",{children:w&&w.name})]}),Object(D.jsx)("div",{className:"media-content",children:x.map((function(t,n){return Object(D.jsxs)(d.a,{className:T(t),onClick:function(){return function(t){O(t),C(),e&&(b(!0),p(!1),e.playStation(t))}(t)},children:[Object(D.jsxs)(d.a.Header,{className:"text-center",children:[Object(D.jsx)("span",{children:t.name}),w&&t.id===w.id&&l&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(_.b,{})," "]}),w&&t.id===w.id&&v&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(u.a,{animation:"border",role:"status"})," "]}),w&&t.id===w.id&&w.error&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(_.a,{})," "]})]}),Object(D.jsx)(d.a.Body,{children:Object(D.jsx)(d.a.Img,{src:t.icon})})]},n)}))}),Object(D.jsxs)("div",{className:"media-controls-container",children:[Object(D.jsx)("audio",{src:I,id:"silentSound",loop:!0,children:"audio unspported"}),Object(D.jsx)(m.a,{className:"media-control",variant:"dark",onClick:function(){return e.handlePrevAction()},children:Object(D.jsx)(_.f,{})}),Object(D.jsx)(i.Fragment,{children:v?Object(D.jsx)(u.a,{animation:"border",role:"status",className:"media-control",children:Object(D.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(D.jsxs)(m.a,{className:"media-control",variant:"dark",onClick:function(){C(),e&&(e.isPlaying()?e.isMuted()?e.unMute():e.mute():(b(!0),p(!1),e.playStation(w)))},children:[l&&Object(D.jsx)(_.c,{}),!l&&Object(D.jsx)(_.d,{})]})}),Object(D.jsx)(m.a,{className:"media-control",variant:"dark",onClick:function(){return e.handleNextAction()},children:Object(D.jsx)(_.e,{})})]})]})})};e(23);var B=function(){return Object(D.jsx)(T,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,29)).then((function(n){var e=n.getCLS,i=n.getFID,a=n.getFCP,o=n.getLCP,r=n.getTTFB;e(t),i(t),a(t),o(t),r(t)}))};r.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),H()}},[[24,1,2]]]);
//# sourceMappingURL=main.af9a6145.chunk.js.map