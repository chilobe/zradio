(this.webpackJsonpzradio=this.webpackJsonpzradio||[]).push([[0],{19:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(12),r=n.n(o),c=(n(19),n(2)),s=n(6),u=n(26),d=n(27),m=n(28),l=n.p+"static/media/hot_fm.572a6cfd.png",p=[{name:"IWave FM Radio",urls:["http://s47.myradiostream.com:9934/listen.mp3"],icon:n.p+"static/media/iwave_fm.73d51dfc.png",id:0},{name:"HOT FM",urls:["http://s2.yesstreaming.net:7091/stream"],icon:l,id:1},{name:"Radio Phoenix 89.5",urls:["https://23553.live.streamtheworld.com/RADIO_PHOENIXAAC_SC"],icon:n.p+"static/media/radio_phoenix.7376b7f6.png",id:2},{name:"Sun FM",urls:["http://11233.cloudrad.io:9102/live"],icon:n.p+"static/media/sun_fm.c74fe35a.png",id:3},{name:"Breeze FM Chipata",urls:["https://s47.myradiostream.com/9934/listen.mp3"],icon:n.p+"static/media/breeze_fm.2baf4b59.png",id:4},{name:"Radio Chikuni",urls:["http://centauri.shoutca.st:8102/stream"],icon:n.p+"static/media/radio_chikuni.40a8f6a1.png",id:5},{name:"965 Rock FM",urls:["http://99.198.118.250:8238/stream"],icon:n.p+"static/media/rock_fm.75c73c07.png",id:6},{name:"Radio Christian Voice",urls:["http://zas2.ndx.co.za/proxy/cvglobal?mp=/stream"],icon:n.p+"static/media/christian_voice.c4d118c8.png",id:7}],f=n(8),h=n.n(f),j=n(11),b=n(14),v="MUTED",g="UMUTED",w="PLAYING",O="PAUSED",x="STOPPED",y="LOAD_ERROR";function E(e){var t="LOAD ERROR",n=null,i=null,a=!1,o=function(e,t){try{return e()}catch(n){console.error(t+": "+n)}return!1},r=function(){return o((function(){return i&&i.playing()}),"Error in isPlaying()")};this.isPlaying=r;this.isMuted=function(){return o((function(){return i&&i.mute()}),"Error in isMuted()")};this.mute=function(){return o((function(){if(i)return i.mute(!0),!0}),"Error in mute()")};this.unMute=function(){return o((function(){if(i)return i.mute(!1),!0}),"Error in unMute()")};var c=function(e){o((function(){e.on("pause",(function(){window.dispatchEvent(new Event(O)),navigator.mediaSession.playbackState="paused"})),e.on("stop",(function(){window.dispatchEvent(new Event(x)),navigator.mediaSession.playbackState="paused"})),e.on("play",(function(){window.dispatchEvent(new Event(w)),navigator.mediaSession.playbackState="playing"})),e.on("mute",(function(){i.mute()?window.dispatchEvent(new Event(v)):window.dispatchEvent(new Event(g)),console.debug("cwm mute!-",i.mute()),navigator.mediaSession.playbackState=i.mute()?"paused":"playing"})),e.on("loaderror",(function(){window.dispatchEvent(new Event(y))})),e.on("load",(function(){console.debug("cwm load event!")})),e.on("rate",(function(){console.debug("cwm unlock event!")}))}),"Error in setupSoundEventListeners()")},u=function(){var e=Object(j.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(n),e.abrupt("return",o((function(){return n.play(),new Promise((function(e,i){n.once("play",(function(){navigator.mediaSession.setPositionState({duration:999999,playbackRate:1,position:80}),e(!0)})),n.once("loaderror",(function(e,n){i(t,n)}))}))}),"Error in playSound()"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in play()")};this.play=d;this.pause=function(){o((function(){i&&i.mute(!0)}),"Error in pause()")};this.stop=function(){o((function(){i&&i.stop()}),"Error in stop()")};var m=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in handlePauseAction()")};this.handlePauseAction=m;var l=function(){d()};this.handlePlayAction=l;var p=function(){if(!a){for(var e=0,t=[["play",function(){return l()}],["pause",function(){return m()}],["previoustrack",function(){return console.debug("cwm previoustrack")}],["nexttrack",function(){return console.debug("cwm nexttrack")}],["stop",function(){return console.debug("cwm stop")}]];e<t.length;e++){var n=Object(s.a)(t[e],2),i=n[0],o=n[1];try{navigator.mediaSession.setActionHandler(i,o)}catch(r){console.log('The media session action "'.concat(i,'" is not supported yet.'))}}a=!0}},f=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o((function(){return i&&i.unload(),n!==t.id?(n=t.id,document.title=document.title+" "+t.name,navigator.mediaSession.metadata=new window.MediaMetadata({title:t.name,album:"ZRadio 2",artwork:[{src:t.icon,sizes:"384x384",type:"image/png"}]}),i=new b.Howl({src:[t.urls],html5:!0,preload:!1}),p(),u(i)):r()?void 0:u(i)}),"Error in playStation()"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();this.playStation=f}var S=n(7),k=n.p+"static/media/5-seconds-of-silence.be2bc6f4.mp3",M=n(0),P=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),r=Object(s.a)(o,2),l=r[0],f=r[1],h=Object(i.useState)(!1),j=Object(s.a)(h,2),b=j[0],O=j[1],x=Object(i.useState)(null),P=Object(s.a)(x,2),F=P[0],L=P[1],R=Object(i.useState)(!1),z=Object(s.a)(R,2),N=z[0],A=z[1],C=Object(i.useCallback)((function(){O(!1),L(Object(c.a)(Object(c.a)({},F),{},{error:!0}))}),[F]);Object(i.useEffect)((function(){L(p[0]),a(new E(p));var e=function(){f(!1)},t=function(){O(!1),f(!0)},n=function(){O(!1),f(!0)};return window.addEventListener(v,e),window.addEventListener(g,t),window.addEventListener(w,n),function(){window.removeEventListener(v,e),window.removeEventListener(g,t),window.removeEventListener(w,n)}}),[]),Object(i.useEffect)((function(){return window.addEventListener(y,C),function(){return window.removeEventListener(y,C)}}),[C]);var _=function(){!N&&F&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:F.name,album:"ZRadio",artwork:[{src:"https://dummyimage.com/96x96",sizes:"96x96",type:"image/png"},{src:"https://dummyimage.com/128x128",sizes:"128x128",type:"image/png"},{src:"https://dummyimage.com/192x192",sizes:"192x192",type:"image/png"},{src:"https://dummyimage.com/256x256",sizes:"256x256",type:"image/png"},{src:"https://dummyimage.com/384x384",sizes:"384x384",type:"image/png"},{src:"https://dummyimage.com/512x512",sizes:"512x512",type:"image/png"}]}),document.getElementById("silentSound").play(),document.getElementById("silentSound").pause(),navigator.mediaSession.playbackState="paused",A(!0))},I=function(e){var t="shadow ";return F&&e.id===F.id&&(t+="current-station ",F.error&&(t+="station-error")),t};return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"media-player-container",children:[Object(M.jsxs)("div",{className:"media-header",children:[b&&Object(M.jsxs)(M.Fragment,{children:["  ",Object(M.jsx)(u.a,{animation:"border",role:"status"}),"\xa0 "]}),Object(M.jsx)("span",{children:F&&F.name})]}),Object(M.jsx)("div",{className:"media-content",children:p.map((function(e,t){return Object(M.jsxs)(d.a,{className:I(e),onClick:function(){return function(e){L(e),_(),n&&(O(!0),f(!1),n.playStation(e))}(e)},children:[Object(M.jsxs)(d.a.Header,{className:"text-center",children:[Object(M.jsx)("span",{children:e.name}),F&&e.id===F.id&&l&&Object(M.jsxs)(M.Fragment,{children:["\xa0",Object(M.jsx)(S.b,{})," "]}),F&&e.id===F.id&&b&&Object(M.jsxs)(M.Fragment,{children:["\xa0",Object(M.jsx)(u.a,{animation:"border",role:"status"})," "]}),F&&e.id===F.id&&F.error&&Object(M.jsxs)(M.Fragment,{children:["\xa0",Object(M.jsx)(S.a,{})," "]})]}),Object(M.jsx)(d.a.Body,{children:Object(M.jsx)(d.a.Img,{src:e.icon})})]},t)}))}),Object(M.jsxs)("div",{className:"media-controls-container",children:[Object(M.jsx)("audio",{src:k,id:"silentSound",loop:!0,children:"audio unspported"}),Object(M.jsx)(m.a,{className:"media-control",variant:"dark",children:Object(M.jsx)(S.f,{})}),Object(M.jsx)(i.Fragment,{children:b?Object(M.jsx)(u.a,{animation:"border",role:"status",className:"media-control",children:Object(M.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(M.jsxs)(m.a,{className:"media-control",variant:"dark",onClick:function(){_(),n&&(n.isPlaying()?n.isMuted()?n.unMute():n.mute():(O(!0),f(!1),n.playStation(F)))},children:[l&&Object(M.jsx)(S.c,{}),!l&&Object(M.jsx)(S.d,{})]})}),Object(M.jsx)(m.a,{className:"media-control",variant:"dark",children:Object(M.jsx)(S.e,{})})]})]})})};n(23);var F=function(){return Object(M.jsx)(P,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(F,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),L()}},[[24,1,2]]]);
//# sourceMappingURL=main.6dae477e.chunk.js.map