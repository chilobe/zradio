(this.webpackJsonpzradio=this.webpackJsonpzradio||[]).push([[0],{19:function(n,t,e){},23:function(n,t,e){},24:function(n,t,e){"use strict";e.r(t);var i=e(1),a=e.n(i),r=e(12),o=e.n(r),c=(e(19),e(2)),s=e(6),u=e(26),d=e(27),m=e(28),l=e.p+"static/media/hot_fm.572a6cfd.png",p=e.p+"static/media/iwave_fm.73d51dfc.png",f=e.p+"static/media/radio_phoenix.7376b7f6.png",h=e.p+"static/media/sun_fm.c74fe35a.png",v=e.p+"static/media/breeze_fm.2baf4b59.png",j=e.p+"static/media/radio_chikuni.40a8f6a1.png",b=e.p+"static/media/rock_fm.75c73c07.png",g=e.p+"static/media/christian_voice.c4d118c8.png",w=e.p+"static/media/metro_fm.e5f0531d.png",O=e.p+"static/media/zed_stage.4dab9508.png",x=e.p+"static/media/5fm_radio.89d530c1.png",y=(e.p,[{name:"IWave FM Radio",urls:["https://s47.myradiostream.com/:9934/listen.mp3"],icon:p,id:0,fiveFmIcon:x},{name:"HOT FM",urls:["http://s2.yesstreaming.net:7091/stream"],icon:l,id:1},{name:"Radio Phoenix 89.5",urls:["https://23553.live.streamtheworld.com/RADIO_PHOENIXAAC_SC"],icon:f,id:2},{name:"Sun FM",urls:["http://11233.cloudrad.io:9102/live"],icon:h,id:3},{name:"Breeze FM Chipata",urls:["https://s47.myradiostream.com/9934/listen.mp3"],icon:v,id:4},{name:"Radio Chikuni",urls:["http://centauri.shoutca.st:8102/stream"],icon:j,id:5},{name:"965 Rock FM",urls:["http://99.198.118.250:8238/stream"],icon:b,id:6},{name:"Radio Christian Voice",urls:["http://zas2.ndx.co.za/proxy/cvglobal?mp=/stream"],icon:g,id:7},{name:"Metro FM",urls:["https://s24.myradiostream.com/:15422/listen.mp3"],icon:w,id:8},{name:"Zed Stage Radio",urls:["https://node-03.zeno.fm/49836bqkpd0uv"],icon:O,id:9},{name:"5fm Radio",urls:["http://ca9.rcast.net:8014/;stream.mp3"],icon:x,id:10}]),E=e(8),S=e.n(E),k=e(11),M=e(14),P="MUTED",A="UMUTED",C="PLAYING",F="PAUSED",L="STOPPED",N="LOAD_ERROR",R="STATION_CHANGED";function z(n){var t="LOAD ERROR",e=null,i=null,a=!1,r=0,o=function(n,t){try{return n()}catch(e){console.error(t+": "+e)}return!1},c=function(){return o((function(){return i&&i.playing()}),"Error in isPlaying()")};this.isPlaying=c;this.isMuted=function(){return o((function(){return i&&i.mute()}),"Error in isMuted()")};this.mute=function(){return o((function(){if(i)return i.mute(!0),!0}),"Error in mute()")};this.unMute=function(){return o((function(){if(i)return i.mute(!1),!0}),"Error in unMute()")};this.getCurrentStation=function(){return n[r]};var u=function(n){o((function(){n.on("pause",(function(){window.dispatchEvent(new Event(F)),navigator.mediaSession.playbackState="paused"})),n.on("stop",(function(){window.dispatchEvent(new Event(L)),navigator.mediaSession.playbackState="paused"})),n.on("play",(function(){window.dispatchEvent(new Event(C)),navigator.mediaSession.playbackState="playing"})),n.on("mute",(function(){i.mute()?window.dispatchEvent(new Event(P)):window.dispatchEvent(new Event(A)),navigator.mediaSession.playbackState=i.mute()?"paused":"playing"})),n.on("loaderror",(function(){window.dispatchEvent(new Event(N))})),n.on("load",(function(){console.debug("cwm load event!")})),n.on("rate",(function(){console.debug("cwm unlock event!")}))}),"Error in setupSoundEventListeners()")},d=function(){var n=Object(k.a)(S.a.mark((function n(e){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(e),n.abrupt("return",o((function(){return e.play(),new Promise((function(n,i){e.once("play",(function(){navigator.mediaSession.setPositionState({duration:999999,playbackRate:1,position:80}),e.mute(!1),navigator.mediaSession.playbackState="playing",n(!0)})),e.once("loaderror",(function(n,e){i(t,e)}))}))}),"Error in playSound()"));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),m=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in play()")};this.play=m;this.pause=function(){o((function(){i&&i.mute(!0)}),"Error in pause()")};this.stop=function(){o((function(){i&&i.stop()}),"Error in stop()")};var l=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in handlePauseAction()")};this.handlePauseAction=l;var p=function(){m()};this.handlePlayAction=p;var f=function(){var t;t=r>=n.length-1?0:r+1,j(n[t]),window.dispatchEvent(new Event(R))};this.handleNextAction=f;var h=function(){var t;t=r<=0?n.length-1:r-1,j(n[t]),window.dispatchEvent(new Event(R))};this.handlePrevAction=h;var v=function(){if(!a){for(var n=0,t=[["play",function(){return p()}],["pause",function(){return l()}],["previoustrack",function(){return h()}],["nexttrack",function(){return f()}],["stop",function(){return console.debug("cwm stop")}]];n<t.length;n++){var e=Object(s.a)(t[n],2),i=e[0],r=e[1];try{navigator.mediaSession.setActionHandler(i,r)}catch(o){console.log('The media session action "'.concat(i,'" is not supported yet.'))}}a=!0}},j=function(){var t=Object(k.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o((function(){return i&&i.unload(),e!==a.id?(e=a.id,r=n.findIndex((function(n){return n.id===a.id})),document.title=document.title+" "+a.name,navigator.mediaSession.metadata=new window.MediaMetadata({title:a.name,album:"ZRadio 2",artwork:[{src:a.icon,sizes:"384x384",type:"image/png"}]}),i=new M.Howl({src:[a.urls],html5:!0,preload:!1}),v(),d(i)):c()?void 0:d(i)}),"Error in playStation()"));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();this.playStation=j}var _=e(7),I=e.p+"static/media/5-seconds-of-silence.be2bc6f4.mp3",D=e(0),T=function(){var n=Object(i.useState)(null),t=Object(s.a)(n,2),e=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(s.a)(r,2),l=o[0],p=o[1],f=Object(i.useState)(!1),h=Object(s.a)(f,2),v=h[0],j=h[1],b=Object(i.useState)(null),g=Object(s.a)(b,2),w=g[0],O=g[1],x=Object(i.useState)(!1),E=Object(s.a)(x,2),S=E[0],k=E[1],M=Object(i.useCallback)((function(){j(!1),p(!1),O(Object(c.a)(Object(c.a)({},w),{},{error:!0}))}),[w]),F=Object(i.useCallback)((function(){p(!1),j(!0),O(e.getCurrentStation())}),[e]);Object(i.useEffect)((function(){O(y[0]),a(new z(y));var n=function(){p(!1)},t=function(){j(!1),p(!0)},e=function(){j(!1),p(!0)};return window.addEventListener(P,n),window.addEventListener(A,t),window.addEventListener(C,e),function(){window.removeEventListener(P,n),window.removeEventListener(A,t),window.removeEventListener(C,e)}}),[]),Object(i.useEffect)((function(){return window.addEventListener(N,M),function(){return window.removeEventListener(N,M)}}),[M]),Object(i.useEffect)((function(){return window.addEventListener(R,F),function(){return window.removeEventListener(R,F)}}),[F]);var L=function(){!S&&w&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:w.name,album:"ZRadio",artwork:[{src:"https://dummyimage.com/96x96",sizes:"96x96",type:"image/png"},{src:"https://dummyimage.com/128x128",sizes:"128x128",type:"image/png"},{src:"https://dummyimage.com/192x192",sizes:"192x192",type:"image/png"},{src:"https://dummyimage.com/256x256",sizes:"256x256",type:"image/png"},{src:"https://dummyimage.com/384x384",sizes:"384x384",type:"image/png"},{src:"https://dummyimage.com/512x512",sizes:"512x512",type:"image/png"}]}),document.getElementById("silentSound").play(),document.getElementById("silentSound").pause(),navigator.mediaSession.playbackState="paused",k(!0))},T=function(n){var t="shadow ";return w&&n.id===w.id&&(t+="current-station ",w.error&&(t+="station-error")),t};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"media-player-container",children:[Object(D.jsxs)("div",{className:"media-header",children:[v&&Object(D.jsxs)(D.Fragment,{children:["  ",Object(D.jsx)(u.a,{animation:"border",role:"status"}),"\xa0 "]}),Object(D.jsx)("span",{children:w&&w.name})]}),Object(D.jsx)("div",{className:"media-content",children:y.map((function(n,t){return Object(D.jsxs)(d.a,{className:T(n),onClick:function(){return function(n){O(n),L(),e&&(j(!0),p(!1),e.playStation(n))}(n)},children:[Object(D.jsxs)(d.a.Header,{className:"text-center",children:[Object(D.jsx)("span",{children:n.name}),w&&n.id===w.id&&l&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(_.b,{})," "]}),w&&n.id===w.id&&v&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(u.a,{animation:"border",role:"status"})," "]}),w&&n.id===w.id&&w.error&&Object(D.jsxs)(D.Fragment,{children:["\xa0",Object(D.jsx)(_.a,{})," "]})]}),Object(D.jsx)(d.a.Body,{children:Object(D.jsx)(d.a.Img,{src:n.icon})})]},t)}))}),Object(D.jsxs)("div",{className:"media-controls-container",children:[Object(D.jsx)("audio",{src:I,id:"silentSound",loop:!0,children:"audio unspported"}),Object(D.jsx)(m.a,{className:"media-control",variant:"dark",onClick:function(){return e.handlePrevAction()},children:Object(D.jsx)(_.f,{})}),Object(D.jsx)(i.Fragment,{children:v?Object(D.jsx)(u.a,{animation:"border",role:"status",className:"media-control",children:Object(D.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(D.jsxs)(m.a,{className:"media-control",variant:"dark",onClick:function(){L(),e&&(e.isPlaying()?e.isMuted()?e.unMute():e.mute():(j(!0),p(!1),e.playStation(w)))},children:[l&&Object(D.jsx)(_.c,{}),!l&&Object(D.jsx)(_.d,{})]})}),Object(D.jsx)(m.a,{className:"media-control",variant:"dark",onClick:function(){return e.handleNextAction()},children:Object(D.jsx)(_.e,{})})]})]})})};e(23);var B=function(){return Object(D.jsx)(T,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,29)).then((function(t){var e=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;e(n),i(n),a(n),r(n),o(n)}))};o.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)})),H()}},[[24,1,2]]]);
//# sourceMappingURL=main.752eea37.chunk.js.map