(this.webpackJsonpzradio=this.webpackJsonpzradio||[]).push([[0],{19:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(12),r=n.n(o),c=(n(19),n(2)),s=n(6),u=n(26),d=n(27),m=n(28),l=n.p+"static/media/hot_fm.572a6cfd.png",p=n.p+"static/media/iwave_fm.73d51dfc.png",f=n.p+"static/media/radio_phoenix.7376b7f6.png",h=n.p+"static/media/sun_fm.c74fe35a.png",b=n.p+"static/media/breeze_fm.2baf4b59.png",j=n.p+"static/media/radio_chikuni.40a8f6a1.png",v=n.p+"static/media/rock_fm.75c73c07.png",g=n.p+"static/media/christian_voice.c4d118c8.png",w=n.p+"static/media/metro_fm.e5f0531d.png",O=n.p+"static/media/zed_stage.4dab9508.png",y=n.p+"static/media/5fm_radio.89d530c1.png",x=(n.p,[{name:"IWave FM Radio",urls:["https://s47.myradiostream.com/:9934/listen.mp3"],icon:p,id:0,fiveFmIcon:y},{name:"HOT FM",urls:["http://s2.yesstreaming.net:7091/stream"],icon:l,id:1},{name:"Radio Phoenix 89.5",urls:["https://23553.live.streamtheworld.com/RADIO_PHOENIXAAC_SC"],icon:f,id:2},{name:"Sun FM",urls:["http://11233.cloudrad.io:9102/live"],icon:h,id:3},{name:"Breeze FM Chipata",urls:["https://s47.myradiostream.com/9934/listen.mp3"],icon:b,id:4},{name:"Radio Chikuni",urls:["http://centauri.shoutca.st:8102/stream"],icon:j,id:5},{name:"965 Rock FM",urls:["http://99.198.118.250:8238/stream"],icon:v,id:6},{name:"Radio Christian Voice",urls:["http://zas2.ndx.co.za/proxy/cvglobal?mp=/stream"],icon:g,id:7},{name:"Metro FM",urls:["https://s24.myradiostream.com/:15422/listen.mp3"],icon:w,id:8},{name:"Zed Stage Radio",urls:["https://node-03.zeno.fm/49836bqkpd0uv"],icon:O,id:9},{name:"5fm Radio",urls:["http://ca9.rcast.net:8014/;stream.mp3"],icon:y,id:10}]),E=n(8),S=n.n(E),k=n(11),M=n(14),F="MUTED",R="UMUTED",P="PLAYING",z="PAUSED",L="STOPPED",_="LOAD_ERROR";function N(e){var t="LOAD ERROR",n=null,i=null,a=!1,o=function(e,t){try{return e()}catch(n){console.error(t+": "+n)}return!1},r=function(){return o((function(){return i&&i.playing()}),"Error in isPlaying()")};this.isPlaying=r;this.isMuted=function(){return o((function(){return i&&i.mute()}),"Error in isMuted()")};this.mute=function(){return o((function(){if(i)return i.mute(!0),!0}),"Error in mute()")};this.unMute=function(){return o((function(){if(i)return i.mute(!1),!0}),"Error in unMute()")};var c=function(e){o((function(){e.on("pause",(function(){window.dispatchEvent(new Event(z)),navigator.mediaSession.playbackState="paused"})),e.on("stop",(function(){window.dispatchEvent(new Event(L)),navigator.mediaSession.playbackState="paused"})),e.on("play",(function(){window.dispatchEvent(new Event(P)),navigator.mediaSession.playbackState="playing"})),e.on("mute",(function(){i.mute()?window.dispatchEvent(new Event(F)):window.dispatchEvent(new Event(R)),navigator.mediaSession.playbackState=i.mute()?"paused":"playing"})),e.on("loaderror",(function(){window.dispatchEvent(new Event(_))})),e.on("load",(function(){console.debug("cwm load event!")})),e.on("rate",(function(){console.debug("cwm unlock event!")}))}),"Error in setupSoundEventListeners()")},u=function(){var e=Object(k.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(n),e.abrupt("return",o((function(){return n.play(),new Promise((function(e,i){n.once("play",(function(){navigator.mediaSession.setPositionState({duration:999999,playbackRate:1,position:80}),n.mute(!1),navigator.mediaSession.playbackState="playing",e(!0)})),n.once("loaderror",(function(e,n){i(t,n)}))}))}),"Error in playSound()"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in play()")};this.play=d;this.pause=function(){o((function(){i&&i.mute(!0)}),"Error in pause()")};this.stop=function(){o((function(){i&&i.stop()}),"Error in stop()")};var m=function(){o((function(){i&&(i.mute()?i.mute(!1):i.mute(!0))}),"Error in handlePauseAction()")};this.handlePauseAction=m;var l=function(){d()};this.handlePlayAction=l;var p=function(){if(!a){for(var e=0,t=[["play",function(){return l()}],["pause",function(){return m()}],["previoustrack",function(){return console.debug("cwm previoustrack")}],["nexttrack",function(){return console.debug("cwm nexttrack")}],["stop",function(){return console.debug("cwm stop")}]];e<t.length;e++){var n=Object(s.a)(t[e],2),i=n[0],o=n[1];try{navigator.mediaSession.setActionHandler(i,o)}catch(r){console.log('The media session action "'.concat(i,'" is not supported yet.'))}}a=!0}},f=function(){var e=Object(k.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o((function(){return i&&i.unload(),n!==t.id?(n=t.id,document.title=document.title+" "+t.name,navigator.mediaSession.metadata=new window.MediaMetadata({title:t.name,album:"ZRadio 2",artwork:[{src:t.icon,sizes:"384x384",type:"image/png"}]}),i=new M.Howl({src:[t.urls],html5:!0,preload:!1}),p(),u(i)):r()?void 0:u(i)}),"Error in playStation()"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();this.playStation=f}var A=n(7),C=n.p+"static/media/5-seconds-of-silence.be2bc6f4.mp3",I=n(0),D=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(i.useState)(!1),r=Object(s.a)(o,2),l=r[0],p=r[1],f=Object(i.useState)(!1),h=Object(s.a)(f,2),b=h[0],j=h[1],v=Object(i.useState)(null),g=Object(s.a)(v,2),w=g[0],O=g[1],y=Object(i.useState)(!1),E=Object(s.a)(y,2),S=E[0],k=E[1],M=Object(i.useCallback)((function(){j(!1),p(!1),O(Object(c.a)(Object(c.a)({},w),{},{error:!0}))}),[w]);Object(i.useEffect)((function(){O(x[0]),a(new N(x));var e=function(){p(!1)},t=function(){j(!1),p(!0)},n=function(){j(!1),p(!0)};return window.addEventListener(F,e),window.addEventListener(R,t),window.addEventListener(P,n),function(){window.removeEventListener(F,e),window.removeEventListener(R,t),window.removeEventListener(P,n)}}),[]),Object(i.useEffect)((function(){return window.addEventListener(_,M),function(){return window.removeEventListener(_,M)}}),[M]);var z=function(){!S&&w&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:w.name,album:"ZRadio",artwork:[{src:"https://dummyimage.com/96x96",sizes:"96x96",type:"image/png"},{src:"https://dummyimage.com/128x128",sizes:"128x128",type:"image/png"},{src:"https://dummyimage.com/192x192",sizes:"192x192",type:"image/png"},{src:"https://dummyimage.com/256x256",sizes:"256x256",type:"image/png"},{src:"https://dummyimage.com/384x384",sizes:"384x384",type:"image/png"},{src:"https://dummyimage.com/512x512",sizes:"512x512",type:"image/png"}]}),document.getElementById("silentSound").play(),document.getElementById("silentSound").pause(),navigator.mediaSession.playbackState="paused",k(!0))},L=function(e){var t="shadow ";return w&&e.id===w.id&&(t+="current-station ",w.error&&(t+="station-error")),t};return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)("div",{className:"media-player-container",children:[Object(I.jsxs)("div",{className:"media-header",children:[b&&Object(I.jsxs)(I.Fragment,{children:["  ",Object(I.jsx)(u.a,{animation:"border",role:"status"}),"\xa0 "]}),Object(I.jsx)("span",{children:w&&w.name})]}),Object(I.jsx)("div",{className:"media-content",children:x.map((function(e,t){return Object(I.jsxs)(d.a,{className:L(e),onClick:function(){return function(e){O(e),z(),n&&(j(!0),p(!1),n.playStation(e))}(e)},children:[Object(I.jsxs)(d.a.Header,{className:"text-center",children:[Object(I.jsx)("span",{children:e.name}),w&&e.id===w.id&&l&&Object(I.jsxs)(I.Fragment,{children:["\xa0",Object(I.jsx)(A.b,{})," "]}),w&&e.id===w.id&&b&&Object(I.jsxs)(I.Fragment,{children:["\xa0",Object(I.jsx)(u.a,{animation:"border",role:"status"})," "]}),w&&e.id===w.id&&w.error&&Object(I.jsxs)(I.Fragment,{children:["\xa0",Object(I.jsx)(A.a,{})," "]})]}),Object(I.jsx)(d.a.Body,{children:Object(I.jsx)(d.a.Img,{src:e.icon})})]},t)}))}),Object(I.jsxs)("div",{className:"media-controls-container",children:[Object(I.jsx)("audio",{src:C,id:"silentSound",loop:!0,children:"audio unspported"}),Object(I.jsx)(m.a,{className:"media-control",variant:"dark",children:Object(I.jsx)(A.f,{})}),Object(I.jsx)(i.Fragment,{children:b?Object(I.jsx)(u.a,{animation:"border",role:"status",className:"media-control",children:Object(I.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):Object(I.jsxs)(m.a,{className:"media-control",variant:"dark",onClick:function(){z(),n&&(n.isPlaying()?n.isMuted()?n.unMute():n.mute():(j(!0),p(!1),n.playStation(w)))},children:[l&&Object(I.jsx)(A.c,{}),!l&&Object(I.jsx)(A.d,{})]})}),Object(I.jsx)(m.a,{className:"media-control",variant:"dark",children:Object(I.jsx)(A.e,{})})]})]})})};n(23);var B=function(){return Object(I.jsx)(D,{})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(B,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),T()}},[[24,1,2]]]);
//# sourceMappingURL=main.2f920a62.chunk.js.map